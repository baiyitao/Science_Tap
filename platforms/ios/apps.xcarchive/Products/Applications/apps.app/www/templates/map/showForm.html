<ion-view view-title="{{name}}">
  <ion-nav-buttons side="right">
    <button class="button button-icon icon ion-camera" ng-click="camera()">
    </button>
  </ion-nav-buttons>
  <ion-content>

    <div>
      <form novalidate class="css-form">

        <div class="list">
          <label ng-repeat="obj in date" class="item item-input item-stacked-label">
              <span class="input-label">{{obj}}</span>
              <input type="date" ng-model="form.date[$index].value" required />
              <input type="hidden" ng-model="form.date[$index].name" ng-init = "form.date[$index].name = obj"></input>
            </label>

          <label ng-repeat="obj in time" class="item item-input item-stacked-label">
              <span class="input-label">{{obj}}</span>
              <input ng-model="form.time.name" value="obj" />
              <input type="time" ng-model="form.time[$index].value" required />
              <input type="hidden" ng-model="form.time[$index].name" ng-init = "form.time[$index].name = obj"></input>
            </label>
          <label ng-repeat="obj in text" class="item item-input item-stacked-label">
              <span class="input-label">{{obj}}</span>
              <!-- <input ng-model="form.text.name" value="obj" /> -->
              <input type="text" ng-model="form.text[$index].value" required />
              <input type="hidden" ng-model="form.text[$index].name" ng-init = "form.text[$index].name = obj"></input>
            </label>

          <label ng-repeat="obj in number" class="item item-input item-stacked-label">
              <span class="input-label">{{obj}}</span>
              <input type="number" ng-model="form.number[$index].value" required />
              <input type="hidden" ng-model="form.number[$index].name" ng-init = "form.number[$index].name = obj"></input>
            </label>


          <div class="item item-input item-select" ng-repeat="obj in selectSingle">
            <div class="input-label">
              {{obj.name}}
            </div>
            <input type="hidden" ng-model="form.selectSingle[$index].name" ng-init = "form.selectSingle[$index].name = obj.name"></input>
            <select ng-model="form.selectSingle[$index].value" ng-init=" form.selectSingle[$index].value = obj.values[0]" ng-options="option for option in obj.values"></select>
          </div>


          <div class="item " ng-repeat="obj in selectMulti">
            <button class="button button-small button-assertive" modal-select="" ng-model="form.selectMulti[$index].value" options="obj.values" multiple="true" modal-title="Select some numbers">
            {{obj.name}}
            <input type="hidden" ng-model="form.selectMulti[$index].name" ng-init = "form.selectMulti[$index].name = obj.name"></input>

            <div class="option">
              {{option}}
            </div>
          </button>
          </div>



        </div>
        <div class="button-bar">
          <a class="button button-block button-balanced" ng-click="reset()">Reset</a>
          <a class="button button-block button-positive" ng-click="submit(form)">submit</a>
        </div>

      </form>
      <pre>form = {{form | json}}</pre>
    </div>

    <button ng-click="addImage()">add new image</button>

    <div ng-repeat="tmpObj in images">
      <img ng-src="{{tmpObj.value}}">
      <button ng-click="deleteImg(tmpObj.id)">delete</button>
    </div>

    <pre> imgage = {{images | json }}</pre>
    <pre> count = {{imgCount | json }}</pre>




    <style type="text/css">
      .css-form input.ng-invalid.ng-touched {
        background-color: #FA787E;
      }

      .css-form input.ng-valid.ng-touched {
        background-color: #78FA89;
      }
    </style>


  </ion-content>
</ion-view>
